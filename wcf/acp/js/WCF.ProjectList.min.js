WCF.ProjectList=Class.extend({_proxy:null,init:function(){this._proxy=new WCF.Action.Proxy({success:$.proxy(this._success,this)});$('.jsProjectChangeStatusButton').each($.proxy(function(index,element){var $button=$(element);var $packageID=$button.data('packageID');$button.click($.proxy(function(event){this._changeStatus($packageID)},this))},this))},_changeStatus:function(packageID){$a=$('.jsProjectChangeStatusButton[data-package-id="'+packageID+'"]');$icon=$a.find('span:eq(0)');$icon.addClass('icon-spinner');if($a.hasClass('isProject')){$icon.removeClass('icon-circle')}else{$icon.removeClass('icon-circle-blank')}this._proxy.setOption('data',{actionName:'changeStatus',className:'wcf\\data\\project\\ProjectAction',objectIDs:[packageID]});this._proxy.sendRequest()},_success:function(data,textStatus,jqXHR){$(data.objectIDs).each(function(key,id){$a=$('.jsProjectChangeStatusButton[data-package-id="'+id+'"]');$icon=$a.find('span:eq(0)');$icon.removeClass('icon-spinner');if($a.hasClass('isProject')){$a.removeClass('isProject');$icon.addClass('icon-circle-blank')}else{$a.addClass('isProject');$icon.addClass('icon-circle')}})}});